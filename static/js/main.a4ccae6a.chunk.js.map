{"version":3,"sources":["DataLayer.js","components/Header/Header.js","components/Product/Product.js","components/Home/Home.js","components/CheckoutProduct/CheckoutProduct.js","reducer.js","components/Subtotal/Subtotal.js","components/Checkout/Checkout.js","firebaseConfig.js","components/Login/Login.js","axios.js","components/Payment/Payment.js","components/Order/Order.js","components/Orders/Orders.js","App.js","reportWebVitals.js","index.js"],"names":["StateContext","createContext","DataLayer","reducer","initialState","children","Provider","value","useReducer","useDataLayerValue","useContext","Header","basket","user","className","to","src","alt","type","onClick","firebase","auth","signOut","email","length","Product","id","title","image","price","rating","dispatch","Array","fill","map","_","i","item","Home","CheckoutProduct","hideButton","getBasketTotal","reduce","amount","state","action","index","findIndex","basketItem","newBasket","splice","console","warn","Subtotal","history","useHistory","renderText","decimalScale","displayType","thousandSeparator","prefix","e","push","Checkout","db","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","firestore","Login","useState","setEmail","password","setPassword","onChange","target","name","preventDefault","signInWithEmailAndPassword","then","catch","error","alert","message","createUserWithEmailAndPassword","instance","axios","create","baseURL","Payment","stripe","useStripe","elements","useElements","succeeded","setSucceeded","processing","setProcessing","setError","disabled","setDisabled","clientSecret","setClientSecret","useEffect","getClientSecret","method","url","response","data","log","handleSubmit","confirmCardPayment","payment_method","card","getElement","CardElement","paymentIntent","collection","doc","uid","set","created","replace","onSubmit","empty","Order","order","moment","unix","format","Orders","orders","setOrders","orderBy","onSnapshot","snapshot","docs","stripePromise","loadStripe","App","onAuthStateChanged","authUser","path","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"kSAGaA,EAAeC,0BAEfC,EAAY,SAAC,GAAD,IAAGC,EAAH,EAAGA,QAASC,EAAZ,EAAYA,aAAcC,EAA1B,EAA0BA,SAA1B,OACrB,cAACL,EAAaM,SAAd,CAAuBC,MAAOC,qBAAWL,EAASC,GAAlD,SACKC,KAKII,EAAoB,kBAAMC,qBAAWV,I,QC+CnCW,EAnDA,WACb,MAAoCF,IAApC,0BAAQG,EAAR,EAAQA,OAAQC,EAAhB,EAAgBA,KAAhB,KAOA,OACE,sBAAKC,UAAU,SAAf,UACE,cAAC,IAAD,CAAMC,GAAG,IAAT,SACE,qBACED,UAAU,eACVE,IAAI,mEACJC,IAAI,kBAIR,sBAAKH,UAAU,iBAAf,UACE,uBAAOA,UAAU,sBAAsBI,KAAK,SAC5C,cAAC,IAAD,CAAYJ,UAAU,oBAGxB,sBAAKA,UAAU,cAAf,UACE,cAAC,IAAD,CAAMC,IAAKF,GAAQ,SAAnB,SACA,sBAAKM,QAtBkB,WACvBN,GACFO,IAASC,OAAOC,WAoBsBR,UAAU,iBAA9C,UACE,uBAAMA,UAAU,wBAAhB,oBAAiDD,EAAOA,EAAKU,MAAQ,WACrE,sBAAMT,UAAU,wBAAhB,SAAyCD,EAAO,WAAa,iBAG/D,cAAC,IAAD,CAAME,GAAIF,EAAO,UAAY,SAA7B,SACA,sBAAKC,UAAU,iBAAf,UACE,sBAAMA,UAAU,wBAAhB,qBACA,sBAAMA,UAAU,wBAAhB,2BAGF,sBAAKA,UAAU,iBAAf,UACE,sBAAMA,UAAU,wBAAhB,kBACA,sBAAMA,UAAU,wBAAhB,sBAEF,cAAC,IAAD,CAAMC,GAAG,YAAT,SACE,sBAAKD,UAAU,uBAAf,UACE,cAAC,IAAD,IACA,sBAAMA,UAAU,2CAAhB,SAA4DF,EAAOY,qBCPhEC,G,MAxCC,SAAC,GAAwC,IAAtCC,EAAqC,EAArCA,GAAIC,EAAiC,EAAjCA,MAAOC,EAA0B,EAA1BA,MAAOC,EAAmB,EAAnBA,MAAOC,EAAY,EAAZA,OAE1C,EAA8BrB,IAA9B,mBAAkBsB,GAAlB,KAAQnB,OAAR,MAgBA,OACE,sBAAKE,UAAU,UAAf,UACE,sBAAKA,UAAU,gBAAf,UACE,4BAAIa,IACJ,oBAAGb,UAAU,iBAAb,UACE,sCACA,iCAASe,OAEX,qBAAKf,UAAU,kBAAf,SACGkB,MAAMF,GAAQG,OAAOC,KAAI,SAACC,EAAEC,GAAH,OACxB,+CAKN,qBAAKpB,IAAKY,EAAOX,IAAI,iBAErB,wBAAQE,QA/BQ,WAElBY,EAAS,CACPb,KAAM,gBACNmB,KAAM,CACJX,GAAIA,EACJC,MAAOA,EACPC,MAAOA,EACPC,MAAOA,EACPC,OAAQA,MAsBV,gCC4BSQ,G,MA/DF,WACX,OACE,qBAAKxB,UAAU,OAAf,SACE,sBAAKA,UAAU,kBAAf,UACE,qBACEA,UAAU,cACVE,IAAI,6KACJC,IAAI,eAGN,sBAAKH,UAAU,YAAf,UACE,cAAC,EAAD,CACEY,GAAG,WACHC,MAAM,8FACNE,MAAO,MACPC,OAAQ,EACRF,MAAM,6FAER,cAAC,EAAD,CACEF,GAAG,WACHC,MAAM,qHACNE,MAAO,IACPC,OAAQ,EACRF,MAAM,qFAGV,sBAAKd,UAAU,YAAf,UACE,cAAC,EAAD,CACEY,GAAG,UACHC,MAAM,uDACNE,MAAO,OACPC,OAAQ,EACRF,MAAM,gFAER,cAAC,EAAD,CACEF,GAAG,WACHC,MAAM,2EACNE,MAAO,MACPC,OAAQ,EACRF,MAAM,+FAER,cAAC,EAAD,CACEF,GAAG,aACHC,MAAM,yEACNE,MAAO,OACPC,OAAQ,EACRF,MAAM,mFAGV,qBAAKd,UAAU,YAAf,SACE,cAAC,EAAD,CACEY,GAAG,WACHC,MAAM,gGACNE,MAAO,QACPC,OAAQ,EACRF,MAAM,yF,OCpBHW,G,MAnCS,SAAC,GAAqD,IAAnDb,EAAkD,EAAlDA,GAAIE,EAA8C,EAA9CA,MAAOD,EAAuC,EAAvCA,MAAOG,EAAgC,EAAhCA,OAAQD,EAAwB,EAAxBA,MAAOW,EAAiB,EAAjBA,WAE1D,EAA+B/B,IAA/B,mBAAmBsB,GAAnB,KAASnB,OAAT,MAQA,OACE,sBAAKE,UAAU,kBAAf,UAEE,qBAAKA,UAAU,yBAAyBE,IAAKY,EAAOX,IAAI,KAExD,sBAAKH,UAAU,wBAAf,UACE,mBAAGA,UAAU,yBAAb,SAAuCa,IACvC,oBAAGb,UAAU,wBAAb,UACE,sCACA,iCAASe,OAEX,qBAAKf,UAAU,yBAAf,SACCkB,MAAMF,GAAQG,OAAOC,KAAI,SAACC,EAAEC,GAAH,OACtB,6CAGFI,GACA,wBAAQrB,QAvBS,WACrBY,EAAS,CACLb,KAAK,qBACLQ,GAAIA,KAoBJ,wC,yCC1BGe,EAAiB,SAAC7B,GAAD,cAC5BA,QAD4B,IAC5BA,OAD4B,EAC5BA,EAAQ8B,QAAO,SAACC,EAAQN,GAAT,OAAkBA,EAAKR,MAAQc,IAAQ,IA8CzCxC,EA5CC,SAACyC,EAAOC,GACtB,OAAQA,EAAO3B,MACb,IAAK,gBACH,OAAO,2BACF0B,GADL,IAEEhC,OAAO,GAAD,mBAAMgC,EAAMhC,QAAZ,CAAoBiC,EAAOR,SAGnC,IAAK,eACH,OAAO,2BACFO,GADL,IAEEhC,OAAQ,KAGd,IAAK,qBACH,IAAMkC,EAAQF,EAAMhC,OAAOmC,WACzB,SAACC,GAAD,OAAgBA,EAAWtB,KAAOmB,EAAOnB,MAGvCuB,EAAS,YAAOL,EAAMhC,QAS1B,OAPIkC,GAAS,EACXG,EAAUC,OAAOJ,EAAO,GAExBK,QAAQC,KAAR,mCAC8BP,EAAOnB,GADrC,iCAIK,2BACFkB,GADL,IAEEhC,OAAQqC,IAGZ,IAAK,WACH,OAAO,2BACFL,GADL,IAEE/B,KAAMgC,EAAOhC,OAGjB,QACE,OAAO+B,ICZES,EA7BE,WACf,IAAMC,EAAUC,YAAW,IAC3B,EAA8B9C,IAA9B,mBAAQG,EAAR,KAAQA,OAAR,KAGA,OACE,sBAAKE,UAAU,WAAf,UACE,cAAC,IAAD,CACE0C,WAAY,SAACjD,GAAD,OACV,qCACE,2CACaK,EAAOY,OADpB,YACoC,iCAASjB,OAE7C,wBAAOO,UAAU,iBAAjB,UACE,uBAAOI,KAAK,aADd,qCAKJuC,aAAc,EACdlD,MAAOkC,EAAe7B,GACtB8C,YAAa,OACbC,mBAAmB,EACnBC,OAAQ,MAEV,wBAAQzC,QAAS,SAAA0C,GAAC,OAAGP,EAAQQ,KAAK,aAAlC,qCCOSC,G,MAhCE,WACf,MAAqCtD,IAArC,0BAASG,EAAT,EAASA,OAAQC,EAAjB,EAAiBA,KAAjB,KAEA,OACE,sBAAKC,UAAU,WAAf,UACE,sBAAKA,UAAU,iBAAf,UACE,qBACEA,UAAU,eACVE,IAAI,+FACJC,IAAI,gBAEN,gCACE,yCAAYJ,EAAOA,EAAKU,MAAQ,WAChC,oBAAIT,UAAU,kBAAd,kCACCF,EAAOsB,KAAI,SAACG,GAAD,OACV,cAAC,EAAD,CACEX,GAAIW,EAAKX,GACTE,MAAOS,EAAKT,MACZE,OAAQO,EAAKP,OACbD,MAAOQ,EAAKR,MACZF,MAAOU,EAAKV,iBAKpB,qBAAKb,UAAU,kBAAf,SACE,cAAC,EAAD,WChBAkD,G,mBAFc5C,IAAS6C,cAVR,CACrBC,OAAQ,0CACRC,WAAY,8BACZC,YAAa,qCACbC,UAAW,cACXC,cAAe,0BACfC,kBAAmB,eACnBC,MAAO,8CAKgBC,aC4EVC,GD3EAtD,IAASC,OCXV,WACZ,IAAMiC,EAAUC,cAChB,EAA0BoB,mBAAS,IAAnC,mBAAOpD,EAAP,KAAcqD,EAAd,KACA,EAAgCD,mBAAS,IAAzC,mBAAOE,EAAP,KAAiBC,EAAjB,KA8BA,OACE,sBAAKhE,UAAU,QAAf,UACE,cAAC,IAAD,CAAMC,GAAG,IAAT,SACE,qBACED,UAAU,aACVE,IAAI,qEACJC,IAAI,OAIR,sBAAKH,UAAU,mBAAf,UACE,yCAEA,uBAAM+B,OAAO,GAAb,UACE,uCACA,uBACE3B,KAAK,OACLX,MAAOgB,EACPwD,SAAU,SAAClB,GAAD,OAAOe,EAASf,EAAEmB,OAAOzE,UAGrC,0CACA,uBACEW,KAAK,WACL+D,KAAK,GACLvD,GAAG,GACHnB,MAAOsE,EACPE,SAAU,SAAClB,GAAD,OAAOiB,EAAYjB,EAAEmB,OAAOzE,UAGxC,wBACEW,KAAK,SACLC,QA5DK,SAAC0C,GACdA,EAAEqB,iBACC9D,IAASC,OACT8D,2BAA2B5D,EAAOsD,GAClCO,MAAK,SAAC/D,GACDA,GACFiC,EAAQQ,KAAK,QAGhBuB,OAAM,SAACC,GACNC,MAAMD,EAAME,aAmDR1E,UAAU,sBAHZ,wBASF,gMAMA,wBAAQK,QA3DG,SAAC0C,GAChBA,EAAEqB,iBACA9D,IAASC,OACRoE,+BAA+BlE,EAAOsD,GACtCO,MAAK,SAAC/D,GACDA,GACFiC,EAAQQ,KAAK,QAGhBuB,OAAM,SAACC,GACNC,MAAMD,EAAME,aAiDe1E,UAAU,wBAArC,+C,wCC9EO4E,E,OAJEC,EAAMC,OAAO,CAC1BC,QAAS,sDC6IEC,EApIC,WACd,MAAqCrF,IAArC,0BAASG,EAAT,EAASA,OAAQC,EAAjB,EAAiBA,KAAQkB,EAAzB,KACMuB,EAAUC,cAEVwC,EAASC,sBACTC,EAAWC,wBAEjB,EAAkCvB,oBAAS,GAA3C,mBAAOwB,EAAP,KAAkBC,EAAlB,KACA,EAAoCzB,mBAAS,IAA7C,mBAAO0B,EAAP,KAAmBC,EAAnB,KACA,EAA0B3B,mBAAS,MAAnC,mBAAOW,EAAP,KAAciB,EAAd,KACA,EAAgC5B,oBAAS,GAAzC,mBAAO6B,EAAP,KAAiBC,EAAjB,KACA,EAAwC9B,oBAAS,GAAjD,mBAAO+B,EAAP,KAAqBC,EAArB,KAEAC,qBAAU,WACR,IAAMC,EAAe,iDAAG,8GACClB,EAAM,CAC3BmB,OAAQ,OAERC,IAAI,0BAAD,OAAqD,IAAzBtE,EAAe7B,MAJ1B,OAChBoG,EADgB,OAMtBL,EAAgBK,EAASC,KAAKP,cANR,2CAAH,qDAQrBG,MACC,CAACjG,IAEJuC,QAAQ+D,IAAI,wBAAwBR,GAEpC,IAAMS,EAAY,iDAAG,WAAOtD,GAAP,kFACjBA,EAAEqB,iBACFoB,GAAc,GAFG,SAIKP,EAAOqB,mBAAmBV,EAAa,CAC3DW,eAAgB,CACdC,KAAMrB,EAASsB,WAAWC,kBAE3BpC,MAAK,YAAoB,IAAlBqC,EAAiB,EAAjBA,cAGFzD,EACC0D,WAAW,SACXC,IAFD,OAEK9G,QAFL,IAEKA,OAFL,EAEKA,EAAM+G,KACVF,WAAW,UACXC,IAAIF,EAAc/F,IAClBmG,IAAI,CACDjH,OAAQA,EACR+B,OAAQ8E,EAAc9E,OACtBmF,QAASL,EAAcK,UAGjC1B,GAAa,GACbG,EAAS,MACTD,GAAc,GAEdvE,EAAS,CACPb,KAAM,iBAGRoC,EAAQyE,QAAQ,cA9BD,yDAAH,sDAuClB,OACE,qBAAKjH,UAAU,UAAf,SACE,sBAAKA,UAAU,qBAAf,UACE,4CACY,eAAC,IAAD,CAAMC,GAAG,YAAT,iBAAsBH,QAAtB,IAAsBA,OAAtB,EAAsBA,EAAQY,OAA9B,YADZ,OAIA,sBAAKV,UAAU,mBAAf,UACE,qBAAKA,UAAU,iBAAf,SACE,oDAEF,sBAAKA,UAAU,mBAAf,UACE,mCAAID,QAAJ,IAAIA,OAAJ,EAAIA,EAAMU,QACV,+CACA,iDAIJ,sBAAKT,UAAU,mBAAf,UACE,qBAAKA,UAAU,iBAAf,SACE,6DAEF,qBAAKA,UAAU,iBAAf,SACGF,EAAOsB,KAAI,SAACG,GAAD,OACV,cAAC,EAAD,CACEX,GAAIW,EAAKX,GACTE,MAAOS,EAAKT,MACZE,OAAQO,EAAKP,OACbD,MAAOQ,EAAKR,MACZF,MAAOU,EAAKV,gBAMpB,sBAAKb,UAAU,mBAAf,UACE,qBAAKA,UAAU,iBAAf,SACE,kDAEF,qBAAKA,UAAU,mBAAf,SAEE,uBAAMkH,SAAUb,EAAhB,UACE,cAAC,cAAD,CAAapC,SA/CJ,SAAClB,GACpB4C,EAAY5C,EAAEoE,OACd1B,EAAS1C,EAAEyB,MAAQzB,EAAEyB,MAAME,QAAU,OA+C3B,sBAAK1E,UAAU,0BAAf,UACE,cAAC,IAAD,CACE0C,WAAY,SAACjD,GAAD,OAAY,+CAAkBA,MAC1CkD,aAAc,EACdlD,MAAOkC,EAAe7B,GACtB8C,YAAa,OACbC,mBAAmB,EACnBC,OAAQ,MAEV,wBAAQ4C,SAAUH,GAAcG,GAAYL,EAA5C,SACE,+BAAOE,EAAa,2CAAoB,iBAG3Cf,GAAS,8BAAMA,kB,yCCjGf4C,EAhCD,SAAC,GAAe,IAAD,EAAZC,EAAY,EAAZA,MACb,OACI,sBAAKrH,UAAU,QAAf,UACA,uCACA,4BAAIsH,IAAOC,KAAKF,EAAMlB,KAAKa,SAASQ,OAAO,yBAC3C,mBAAGxH,UAAU,YAAb,SACI,gCAAQqH,EAAMzG,OAJlB,UAMCyG,EAAMlB,KAAKrG,cANZ,aAMC,EAAmBsB,KAAI,SAAAG,GAAI,OACxB,cAAC,EAAD,CACIX,GAAIW,EAAKX,GACTC,MAAOU,EAAKV,MACZC,MAAOS,EAAKT,MACZC,MAAOQ,EAAKR,MACZC,OAAQO,EAAKP,OACbU,YAAU,OAGlB,cAAC,IAAD,CACIgB,WAAY,SAACjD,GAAD,OACR,qBAAIO,UAAU,eAAd,0BAA2CP,MAE/CkD,aAAc,EACdlD,MAAO4H,EAAMlB,KAAKtE,OAAS,IAC3Be,YAAa,OACbC,mBAAmB,EACnBC,OAAQ,UCUL2E,EApCA,WACX,MAAqC9H,IAArC,0BAAiBI,GAAjB,EAASD,OAAT,EAAiBC,MACjB,GADA,KAC4B8D,mBAAS,KAArC,mBAAO6D,EAAP,KAAeC,EAAf,KAoBA,OAlBA7B,qBAAU,WACH/F,EACCmD,EACC0D,WAAW,SACXC,IAFD,OAEK9G,QAFL,IAEKA,OAFL,EAEKA,EAAM+G,KACVF,WAAW,UACXgB,QAAQ,UAAU,QAClBC,YAAW,SAAAC,GAAQ,OAChBH,EAAUG,EAASC,KAAK3G,KAAK,SAAAyF,GAAG,MAAI,CAC7BjG,GAAIiG,EAAIjG,GACRuF,KAAMU,EAAIV,eAKrBwB,EAAU,OAId,sBAAK3H,UAAU,SAAf,UACI,6CACA,qBAAKA,UAAU,gBAAf,gBAEQ0H,QAFR,IAEQA,OAFR,EAEQA,EAAQtG,KAAI,SAAAiG,GAAK,OACb,cAAC,EAAD,CAAOA,MAAOA,aCpBhCW,EAAgBC,YAAW,+GAsDlBC,MApDf,WAEE,MAAwBvI,IAAxB,yCAAYsB,EAAZ,KAqBA,OAnBA6E,qBAAU,WAERxF,IAASC,OAAO4H,oBAAmB,SAACC,GAClC/F,QAAQ+D,IAAI,mBAAoBgC,GAG9BnH,EADEmH,EACO,CACPhI,KAAM,WACNL,KAAMqI,GAGC,CACPhI,KAAM,WACNL,KAAM,YAIX,IAGD,cAAC,IAAD,UACE,qBAAKC,UAAU,MAAf,SACE,eAAC,IAAD,WACA,eAAC,IAAD,CAAOqI,KAAK,UAAZ,UACA,cAAC,EAAD,IACI,cAAC,EAAD,OAEF,cAAC,IAAD,CAAOA,KAAK,SAAZ,SACE,cAAC,EAAD,MAEF,eAAC,IAAD,CAAOA,KAAK,YAAZ,UACE,cAAC,EAAD,IACA,cAAC,EAAD,OAEF,eAAC,IAAD,CAAOA,KAAK,WAAZ,UACE,cAAC,EAAD,IACA,cAAC,WAAD,CAAUpD,OAAQ+C,EAAlB,SAAiC,cAAC,EAAD,SAEnC,eAAC,IAAD,CAAOK,KAAK,IAAZ,UACE,cAAC,EAAD,IACA,cAAC,EAAD,eChDGC,EAZS,SAAAC,GAClBA,GAAeA,aAAuBC,UACxC,8BAAqBlE,MAAK,YAAkD,IAA/CmE,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOF,GACPG,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAQN,OCCdO,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,CAAW1J,aXVa,CAC1BQ,OAAQ,GACRC,KAAM,MWQmCV,QAASA,EAAhD,SACE,cAAC,EAAD,QAGJ4J,SAASC,eAAe,SAM1BZ,K","file":"static/js/main.a4ccae6a.chunk.js","sourcesContent":["import React, { createContext, useContext, useReducer } from \"react\";\n\n// DATA LAYER !!!\nexport const StateContext = createContext();\n\nexport const DataLayer = ({ reducer, initialState, children }) => (\n    <StateContext.Provider value={useReducer(reducer, initialState)}>\n        {children}\n    </StateContext.Provider>\n);\n\n// COMPONENTS USABLE HOOK\nexport const useDataLayerValue = () => useContext(StateContext);","import React from \"react\";\nimport \"./Header.css\";\nimport SearchIcon from \"@material-ui/icons/Search\";\nimport ShoppingCartIcon from \"@material-ui/icons/ShoppingCart\";\nimport { Link } from \"react-router-dom\";\nimport { useDataLayerValue } from \"../../DataLayer\";\nimport firebase from 'firebase/app'\n\nconst Header = () => {\n  const [{basket, user} , dispatch] = useDataLayerValue();\n\n  const handleAuthentication = () => {\n    if (user) {\n      firebase.auth().signOut();\n    }\n  }\n  return (\n    <div className=\"header\">\n      <Link to=\"/\">\n        <img\n          className=\"header__logo\"\n          src=\"https://1079life.com/wp-content/uploads/2018/12/amazon_PNG11.png\"\n          alt=\"amazon logo\"\n        />\n      </Link>\n\n      <div className=\"header__search\">\n        <input className=\"header__searchInput\" type=\"text\" />\n        <SearchIcon className=\"search__icon\" />\n      </div>\n\n      <div className=\"header__nav\">\n        <Link to={!user && \"/login\"}>\n        <div onClick={handleAuthentication} className=\"header__option\">\n          <span className=\"header__optionLineOne\">Hello, { user ? user.email : 'Guest'}</span>\n          <span className=\"header__optionLineTwo\">{user ? \"Sign Out\" : \"Sign In\"}</span>\n        </div>\n        </Link>\n        <Link to={user ? \"/orders\" : \"/login\"}>\n        <div className=\"header__option\">\n          <span className=\"header__optionLineOne\">Returns</span>\n          <span className=\"header__optionLineTwo\">& Orders</span>\n        </div>\n        </Link>\n        <div className=\"header__option\">\n          <span className=\"header__optionLineOne\">Your</span>\n          <span className=\"header__optionLineTwo\">Prime</span>\n        </div>\n        <Link to=\"/checkout\">\n          <div className=\"header__optionBasket\">\n            <ShoppingCartIcon />\n            <span className=\"header__optionLineTwo header_basketCount\">{basket.length}</span>\n          </div>\n        </Link>\n      </div>\n    </div>\n  );\n};\n\nexport default Header;\n","import React from \"react\";\nimport \"./Product.css\";\nimport { useDataLayerValue } from \"../../DataLayer\";\n\nconst Product = ({ id, title, image, price, rating}) => {\n  \n  const [{basket} , dispatch] = useDataLayerValue();\n\n  const addToBasket = () => {\n    // dispatch the item to the data layer\n    dispatch({\n      type: \"ADD_TO_BASKET\",\n      item: {\n        id: id,\n        title: title,\n        image: image,\n        price: price,\n        rating: rating,\n      },\n    });\n  };\n\n  return (\n    <div className=\"product\">\n      <div className=\"product__info\">\n        <p>{title}</p>\n        <p className=\"product__price\">\n          <small>$</small>\n          <strong>{price}</strong>\n        </p>\n        <div className=\"product__rating\">\n          {Array(rating).fill().map((_,i) => (\n            <p>⭐</p>\n          ))}\n        </div>\n      </div>\n\n      <img src={image} alt=\"lean-startup\" />\n\n      <button onClick={addToBasket}>Add to Basket</button>\n    </div>\n  );\n};\n\nexport default Product;\n","import React from \"react\";\nimport Product from \"../Product/Product\";\nimport \"./Home.css\";\n\nconst Home = () => {\n  return (\n    <div className=\"home\">\n      <div className=\"home__container\">\n        <img\n          className=\"home__image\"\n          src=\"https://images-eu.ssl-images-amazon.com/images/G/02/digital/video/merch2016/Hero/Covid19/Generic/GWBleedingHero_ENG_COVIDUPDATE__XSite_1500x600_PV_en-GB._CB428684220_.jpg\"\n          alt=\"home_image\"\n        />\n\n        <div className=\"home__row\">\n          <Product\n            id=\"12321341\"\n            title=\"The Lean Startup: How Constant Innovation Creates Radically Successful Businesses Paperback\"\n            price={11.96}\n            rating={5}\n            image=\"https://images-na.ssl-images-amazon.com/images/I/51Zymoq7UnL._SX325_BO1,204,203,200_.jpg\"\n          />\n          <Product\n            id=\"49538094\"\n            title=\"Kenwood kMix Stand Mixer for Baking, Stylish Kitchen Mixer with K-beater, Dough Hook and Whisk, 5 Litre Glass Bowl\"\n            price={239.0}\n            rating={4}\n            image=\"https://images-na.ssl-images-amazon.com/images/I/81O%2BGNdkzKL._AC_SX450_.jpg\"\n          />\n        </div>\n        <div className=\"home__row\">\n          <Product\n            id=\"4903850\"\n            title=\"Samsung LC49RG90SSUXEN 49' Curved LED Gaming Monitor\"\n            price={199.99}\n            rating={3}\n            image=\"https://images-na.ssl-images-amazon.com/images/I/71Swqqe7XAL._AC_SX466_.jpg\"\n          />\n          <Product\n            id=\"23445930\"\n            title=\"Amazon Echo (3rd generation) | Smart speaker with Alexa, Charcoal Fabric\"\n            price={98.99}\n            rating={5}\n            image=\"https://media.very.co.uk/i/very/P6LTG_SQ1_0000000071_CHARCOAL_SLf?$300x400_retinamobilex2$\"\n          />\n          <Product\n            id=\"3254354345\"\n            title=\"New Apple iPad Pro (12.9-inch, Wi-Fi, 128GB) - Silver (4th Generation)\"\n            price={598.99}\n            rating={4}\n            image=\"https://images-na.ssl-images-amazon.com/images/I/816ctt5WV5L._AC_SX385_.jpg\"\n          />\n        </div>\n        <div className=\"home__row\">\n          <Product\n            id=\"90829332\"\n            title=\"Samsung LC49RG90SSUXEN 49' Curved LED Gaming Monitor - Super Ultra Wide Dual WQHD 5120 x 1440\"\n            price={1094.98}\n            rating={4}\n            image=\"https://images-na.ssl-images-amazon.com/images/I/6125mFrzr6L._AC_SX355_.jpg\"\n          />\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Home;\n","import React from \"react\";\nimport \"./CheckoutProduct.css\";\nimport { useDataLayerValue } from \"../../DataLayer\";\n\nconst CheckoutProduct = ({ id, image, title, rating, price, hideButton }) => {\n\n  const [{ basket }, dispatch] = useDataLayerValue();\n\n  const removeFromBasket = () => {\n      dispatch({\n          type:\"REMOVE_FROM_BASKET\",\n          id: id,\n      })\n  }\n  return (\n    <div className=\"checkoutProduct\">\n\n      <img className=\"checkoutProduct__image\" src={image} alt=\"\" />\n\n      <div className=\"checkoutProduct__info\">\n        <p className=\"checkoutProduct__title\">{title}</p>\n        <p className=\"checkoutProduct_price\">\n          <small>$</small>\n          <strong>{price}</strong>\n        </p>\n        <div className=\"checoutProduct__rating\">\n        {Array(rating).fill().map((_,i) => (\n            <p>⭐</p>\n          ))}\n        </div>\n        {!hideButton && (\n          <button onClick={removeFromBasket}>Remove from basket</button>\n        )}\n      </div>\n     \n    </div>\n  );\n};\n\nexport default CheckoutProduct;\n","export const initialState = {\n  basket: [],\n  user: null,\n};\n\nexport const getBasketTotal = (basket) =>\n  basket?.reduce((amount, item) => item.price + amount, 0);\n  \nconst reducer = (state, action) => {\n  switch (action.type) {\n    case \"ADD_TO_BASKET\":\n      return {\n        ...state,\n        basket: [...state.basket, action.item],\n      };\n\n      case \"EMPTY_BASKET\":\n        return {\n          ...state,\n          basket: []\n        }\n\n    case \"REMOVE_FROM_BASKET\":\n      const index = state.basket.findIndex(\n        (basketItem) => basketItem.id === action.id\n      );\n\n      let newBasket = [...state.basket];\n\n      if (index >= 0) {\n        newBasket.splice(index, 1);\n      } else {\n        console.warn(\n          `Cant remove product (id: ${action.id}) as it is not in the basket`\n        );\n      }\n      return {\n        ...state,\n        basket: newBasket,\n      };\n\n    case \"SET_USER\":\n      return {\n        ...state,\n        user: action.user,\n      };\n\n    default:\n      return state;\n  }\n};\n\nexport default reducer;\n","import React from \"react\";\nimport \"./Subtotal.css\";\nimport CurrencyFormat from \"react-currency-format\";\nimport { useDataLayerValue } from \"../../DataLayer\";\nimport { useHistory } from \"react-router-dom\";\nimport { getBasketTotal } from \"../../reducer\";\n\nconst Subtotal = () => {\n  const history = useHistory('');\n  const [{basket} , dispatch] = useDataLayerValue();\n\n  \n  return (\n    <div className=\"subtotal\">\n      <CurrencyFormat\n        renderText={(value) => (\n          <>\n            <p>\n              Subtotal ({basket.length} items): <strong>{value}</strong>\n            </p>\n            <small className=\"subtotal__gift\">\n              <input type=\"checkbox\" /> This order contains a gift\n            </small>\n          </>\n        )}\n        decimalScale={2}\n        value={getBasketTotal(basket)} \n        displayType={\"text\"}\n        thousandSeparator={true}\n        prefix={\"$\"}\n      />\n      <button onClick={e=> history.push('/payment')}>Procced to Checkout</button>\n    </div>\n  );\n};\n\nexport default Subtotal;\n","import React from \"react\";\nimport CheckoutProduct from \"../CheckoutProduct/CheckoutProduct\";\nimport Subtotal from \"../Subtotal/Subtotal\";\nimport \"./Checkout.css\";\nimport { useDataLayerValue } from \"../../DataLayer\";\n\nconst Checkout = () => {\n  const [{ basket, user }, dispatch] = useDataLayerValue();\n\n  return (\n    <div className=\"checkout\">\n      <div className=\"checkout__left\">\n        <img\n          className=\"checkout__ad\"\n          src=\"https://images-na.ssl-images-amazon.com/images/G/02/UK_CCMP/TM/OCC_Amazon1._CB423492668_.jpg\"\n          alt=\"checkout ad\"\n        />\n        <div>\n          <h3>Hello, {user ? user.email : 'Guest'}</h3>\n          <h2 className=\"checkout__title\">Your shopping basket</h2>\n          {basket.map((item) => (\n            <CheckoutProduct\n              id={item.id}\n              image={item.image}\n              rating={item.rating}\n              price={item.price}\n              title={item.title}\n            />\n          ))}\n        </div>\n      </div>\n      <div className=\"checkout__right\">\n        <Subtotal />\n      </div>\n    </div>\n  );\n};\n\nexport default Checkout;\n","import firebase from 'firebase/app'\nimport 'firebase/firestore';\nimport \"firebase/auth\";\n\nconst firebaseConfig = {\n  apiKey: \"AIzaSyDtV_acoxxdqrZ98wvXRuis3ZCyH1iVkeU\",\n  authDomain: \"clone-ad9dc.firebaseapp.com\",\n  databaseURL: \"https://clone-ad9dc.firebaseio.com\",\n  projectId: \"clone-ad9dc\",\n  storageBucket: \"clone-ad9dc.appspot.com\",\n  messagingSenderId: \"873512296247\",\n  appId: \"1:873512296247:web:6759da4511dfaff78cc4b2\"\n  };\n  \n  const firebaseApp = firebase.initializeApp(firebaseConfig);\n\n  const db = firebaseApp.firestore();\n  const auth = firebase.auth();\n  \n  export { db, auth };\n\n","import { Link, useHistory } from \"react-router-dom\";\nimport React, { useState } from \"react\";\nimport \"./Login.css\";\nimport firebase from 'firebase/app'\nimport \"../../firebaseConfig\"\n\nconst Login = () => {\n  const history = useHistory();\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n\n  const signIn = (e) => {\n    e.preventDefault();\n       firebase.auth()\n      .signInWithEmailAndPassword(email, password)\n      .then((auth) => {\n        if (auth) {\n          history.push(\"/\");\n        }\n      })\n      .catch((error) => {\n        alert(error.message);\n      });\n  };\n\n  const register = (e) => {\n    e.preventDefault();\n      firebase.auth()\n      .createUserWithEmailAndPassword(email, password)\n      .then((auth) => {\n        if (auth) {\n          history.push(\"/\");\n        }\n      })\n      .catch((error) => {\n        alert(error.message);\n      });\n  };\n\n  return (\n    <div className=\"login\">\n      <Link to=\"/\">\n        <img\n          className=\"login_logo\"\n          src=\"https://logos-world.net/wp-content/uploads/2020/04/Amazon-Logo.png\"\n          alt=\"\"\n        />\n      </Link>\n\n      <div className=\"login__container\">\n        <h1>Sign In</h1>\n\n        <form action=\"\">\n          <h5>Email</h5>\n          <input\n            type=\"text\"\n            value={email}\n            onChange={(e) => setEmail(e.target.value)}\n          />\n\n          <h5>Password</h5>\n          <input\n            type=\"password\"\n            name=\"\"\n            id=\"\"\n            value={password}\n            onChange={(e) => setPassword(e.target.value)}\n          />\n\n          <button\n            type=\"submit\"\n            onClick={signIn}\n            className=\"login__signInButton\"\n          >\n            Sign In\n          </button>\n        </form>\n\n        <p>\n          By signing-in you agree to the AMAZON FAKE CLONE Conditions of Use &\n          Sale. Please see our Privacy Notice, our Cookies Notice and our\n          Interest-Based Ads Notice.\n        </p>\n\n        <button onClick={register} className=\"login__registerButton\">\n          Create Your Amazon Button\n        </button>\n      </div>\n    </div>\n  );\n};\n\nexport default Login;\n","import axios from 'axios';\n\nconst instance = axios.create({\n    baseURL: 'http://localhost:5001/clone-ad9dc/us-central1/api' // The API (Cloud function) URL\n})\n\nexport default instance;","import React, { useEffect, useState } from \"react\";\nimport \"./Payment.css\";\nimport { useDataLayerValue } from \"../../DataLayer\";\nimport CheckoutProduct from \"../CheckoutProduct/CheckoutProduct\";\nimport { Link, useHistory } from \"react-router-dom\";\nimport { CardElement, useStripe, useElements } from \"@stripe/react-stripe-js\";\nimport CurrencyFormat from \"react-currency-format\";\nimport { getBasketTotal } from \"../../reducer\";\nimport axios from '../../axios';\nimport {db} from '../../firebaseConfig'\n\n\nconst Payment = () => {\n  const [{ basket, user }, dispatch] = useDataLayerValue();\n  const history = useHistory();\n  \n  const stripe = useStripe();\n  const elements = useElements();\n\n  const [succeeded, setSucceeded] = useState(false);\n  const [processing, setProcessing] = useState(\"\");\n  const [error, setError] = useState(null);\n  const [disabled, setDisabled] = useState(true);\n  const [clientSecret, setClientSecret] = useState(true);\n\n  useEffect(()=>{\n    const getClientSecret = async () => {\n      const response = await axios({\n        method: 'post',\n        // Stripe expects the total in a  currencies subunit\n        url: `/payments/create?total=${getBasketTotal(basket) * 100}`\n      });\n      setClientSecret(response.data.clientSecret)\n    }\n    getClientSecret();\n  }, [basket])\n\n  console.log(\"the secret key id >>>\",clientSecret);\n\n  const handleSubmit = async (e) => {\n      e.preventDefault();\n      setProcessing(true);\n\n      const payload = await stripe.confirmCardPayment(clientSecret,{\n        payment_method: {\n          card: elements.getElement(CardElement)\n        }\n      }).then(({paymentIntent})=>{\n        // paymentIntent = payment confirmation\n\n              db\n              .collection('users')\n              .doc(user?.uid)\n              .collection('orders')\n              .doc(paymentIntent.id)\n              .set({\n                  basket: basket,\n                  amount: paymentIntent.amount,\n                  created: paymentIntent.created\n              })\n\n        setSucceeded(true)\n        setError(null)\n        setProcessing(false)\n\n        dispatch({\n          type: \"EMPTY_BASKET\"\n        })\n\n        history.replace('/orders')\n      })\n  };\n\n  const handleChange = (e) => {\n    setDisabled(e.empty);\n    setError(e.error ? e.error.message : \"\");\n  };\n\n  return (\n    <div className=\"payment\">\n      <div className=\"payment__container\">\n        <h1>\n          Checkout (<Link to=\"/checkout\">{basket?.length} items</Link>)\n        </h1>\n\n        <div className=\"payment__section\">\n          <div className=\"payment__title\">\n            <h3>Delivery Address</h3>\n          </div>\n          <div className=\"payment__address\">\n            <p>{user?.email}</p>\n            <p>Gandaria,Dhaka</p>\n            <p>Bangladesh</p>\n          </div>\n        </div>\n\n        <div className=\"payment__section\">\n          <div className=\"payment__title\">\n            <h3>Review items and delivery</h3>\n          </div>\n          <div className=\"payment__items\">\n            {basket.map((item) => (\n              <CheckoutProduct\n                id={item.id}\n                image={item.image}\n                rating={item.rating}\n                price={item.price}\n                title={item.title}\n              />\n            ))}\n          </div>\n        </div>\n\n        <div className=\"payment__section\">\n          <div className=\"payment__title\">\n            <h3>Payment Method</h3>\n          </div>\n          <div className=\"payment__details\">\n            \n            <form onSubmit={handleSubmit}>\n              <CardElement onChange={handleChange} />\n\n              <div className=\"payment__priceContainer\">\n                <CurrencyFormat\n                  renderText={(value) => (<h3>Order Total: {value}</h3>)}\n                  decimalScale={2}\n                  value={getBasketTotal(basket)}\n                  displayType={\"text\"}\n                  thousandSeparator={true}\n                  prefix={\"$\"}\n                />\n                <button disabled={processing || disabled || succeeded}>\n                  <span>{processing ? <p>Processing</p> : \"Buy Now\"}</span>\n                </button>\n              </div>\n              {error && <div>{error}</div>}\n            </form>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Payment;\n","import React from 'react';\nimport './Order.css'\nimport moment from \"moment\";\nimport CheckoutProduct from '../CheckoutProduct/CheckoutProduct';\nimport CurrencyFormat from \"react-currency-format\";\n\nconst Order = ({ order }) => {\n    return (\n        <div className='order'>\n        <h2>Order</h2>\n        <p>{moment.unix(order.data.created).format(\"MMMM Do YYYY, h:mma\")}</p>\n        <p className=\"order__id\">\n            <small>{order.id}</small>\n        </p>\n        {order.data.basket?.map(item => (\n            <CheckoutProduct\n                id={item.id}\n                title={item.title}\n                image={item.image}\n                price={item.price}\n                rating={item.rating}\n                hideButton\n            />\n        ))}\n        <CurrencyFormat\n            renderText={(value) => (\n                <h3 className=\"order__total\">Order Total: {value}</h3>\n            )}\n            decimalScale={2}\n            value={order.data.amount / 100}\n            displayType={\"text\"}\n            thousandSeparator={true}\n            prefix={\"$\"}\n        />   \n    </div>\n    );\n};\n\nexport default Order;","import React, { useEffect, useState } from 'react';\nimport './Orders.css'\nimport { useDataLayerValue } from \"../../DataLayer\";\nimport {db} from '../../firebaseConfig'\nimport Order from '../Order/Order';\n\nconst Orders = () => {\n    const [{ basket, user }, dispatch] = useDataLayerValue();\n    const [orders, setOrders] = useState([]);\n\n    useEffect(()=> {\n        if(user) {\n            db\n            .collection('users')\n            .doc(user?.uid)\n            .collection('orders')\n            .orderBy('created','desc')\n            .onSnapshot(snapshot => (\n                setOrders(snapshot.docs.map( doc=> ({\n                       id: doc.id,\n                       data: doc.data()  \n                })) )\n            ))\n        }\n        else {\n            setOrders([]);\n        }\n    })\n    return (\n        <div className='orders'>\n            <h1>Your Orders</h1>\n            <div className=\"orders__order\">\n                {\n                    orders?.map(order => (\n                        <Order order={order} />\n                    ))\n                }\n            </div>\n        </div>\n    );\n};\n\nexport default Orders;","import \"./App.css\";\nimport Header from \"./components/Header/Header\";\nimport Home from \"./components/Home/Home\";\nimport { BrowserRouter as Router, Switch, Route, Link } from \"react-router-dom\";\nimport Checkout from \"./components/Checkout/Checkout\";\nimport Login from \"./components/Login/Login\";\nimport { useEffect } from \"react\";\nimport { useDataLayerValue } from \"./DataLayer\";\nimport firebase from 'firebase/app'\nimport Payment from \"./components/Payment/Payment\";\nimport {Elements} from '@stripe/react-stripe-js';\nimport {loadStripe} from '@stripe/stripe-js';\nimport Orders from \"./components/Orders/Orders\";\n\nconst stripePromise = loadStripe('pk_test_51Hs9VnI11fl0uqZFoJnAGDKaaS44T026c46zIIgKigrlYq8QaNkbi1C2VvYXMAz6HkgjjAnJ5lySM341iO7Iba0F00kGItFgtR');\n\nfunction App() {\n  \n  const [{} , dispatch] = useDataLayerValue();\n\n  useEffect(() => {\n  \n    firebase.auth().onAuthStateChanged((authUser) => {\n      console.log(\"THE USER IS >>> \", authUser);\n\n      if (authUser) {\n        dispatch({\n          type: \"SET_USER\",\n          user: authUser,\n        });\n      } else {\n        dispatch({\n          type: \"SET_USER\",\n          user: null,\n        });\n      }\n    });\n  }, []);\n\n  return (\n    <Router>\n      <div className=\"app\">\n        <Switch>\n        <Route path=\"/orders\">\n        <Header />  \n            <Orders />\n          </Route>\n          <Route path=\"/login\">\n            <Login />\n          </Route>\n          <Route path=\"/checkout\">\n            <Header />  \n            <Checkout />\n          </Route>\n          <Route path=\"/payment\">\n            <Header /> \n            <Elements stripe={stripePromise}><Payment/></Elements>  \n          </Route>\n          <Route path=\"/\">\n            <Header />\n            <Home />\n          </Route>\n        </Switch>\n      </div>\n    </Router>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport reportWebVitals from \"./reportWebVitals\";\nimport { DataLayer } from \"./DataLayer\";\nimport reducer, { initialState } from \"./reducer\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <DataLayer initialState={initialState} reducer={reducer}>\n      <App />\n    </DataLayer>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}